# Part4

## 算数运算符

Solidity 支持的算术运算符，如下表所示：

假设变量A的值为10，变量B的值为20。

| 序号 | 运算符与描述                            |
| :--- | :-------------------------------------- |
| 1    | **+ (加)** 求和 **例:** A + B = 30      |
| 2    | **– (减)** 相减 **例:** A – B = -10     |
| 3    | *** (乘)** 相乘 **例:** A * B = 200     |
| 4    | **/ (除)** 相除 **例:** B / A = 2       |
| 5    | **% (取模)** 取模运算 **例:** B % A = 0 |
| 6    | **++ (递增)** 递增 **例:** A++ = 11     |
| 7    | **— (递减)** 递减 **例:** A– = 9        |





## 比较运算符

Solidity 支持的比较运算符，如下表所示：

| 序号 | 运算符与描述      |
| :--- | :---------------- |
| 1    | **== (等于)**     |
| 2    | **!= (不等于)**   |
| 3    | **> (大于)**      |
| 4    | **< (小于)**      |
| 5    | **>= (大于等于)** |
| 6    | **<= (小于等于)** |



## 逻辑运算符

Solidity 支持的逻辑运算符，如下表所示：

假设变量A的值为10，变量B的值为20。

| 序号 | 运算符与描述                                                 |
| :--- | :----------------------------------------------------------- |
| 1    | **&& (逻辑与)** 如果两个操作数都非零，则条件为真。 **例:** (A && B) 为真 |
| 2    | **\|\| (逻辑或)** 如果这两个操作数中有一个非零，则条件为真。 **例:** (A \|\| B) 为真 |
| 3    | **! (逻辑非)** 反转操作数的逻辑状态。如果条件为真，则逻辑非操作将使其为假。 **例:** ! (A && B) 为假 |



## 位运算符

| 序号 | 运算符与描述                                                 |
| :--- | :----------------------------------------------------------- |
| 1    | **& (位与)** 对其整数参数的每个位执行位与操作。 **例:** (A & B) 为 2. |
| 2    | **\| (位或)** 对其整数参数的每个位执行位或操作。 **例:** (A \| B) 为 3. |
| 3    | **^ (位异或)** 对其整数参数的每个位执行位异或操作。 **例:** (A ^ B) 为 1. |
| 4    | **~ (位非)** 一元操作符，反转操作数中的所有位。 **例:** (~B) 为 -4. |
| 5    | **<< (左移位))** 将第一个操作数中的所有位向左移动，移动的位置数由第二个操作数指定，新的位由0填充。将一个值向左移动一个位置相当于乘以2，移动两个位置相当于乘以4，以此类推。 **例:** (A << 1) 为 4. |
| 6    | **>> (右移位)** 左操作数的值向右移动，移动位置数量由右操作数指定 **例:** (A >> 1) 为 1. |



## 赋值运算符

Solidity 支持的赋值运算符，如下表所示：

| 序号                                                         | 运算符与描述                                                 |
| :----------------------------------------------------------- | :----------------------------------------------------------- |
| 1                                                            | **= (简单赋值)** 将右侧操作数的值赋给左侧操作数 **例:** C = A + B 表示 A + B 赋给 C |
| 2                                                            | **+= (相加赋值)** 将右操作数添加到左操作数并将结果赋给左操作数。 **例:** C += A 等价于 C = C + A |
| 3                                                            | **−= (相减赋值)** 从左操作数减去右操作数并将结果赋给左操作数。 **例:** C -= A 等价于 C = C – A |
| xxxxxxxxxx11 1pragma solidity ^0.8.0;2​3abstract contract Employee {4    function getSalary() public  pure virtual returns(int);5}6​7contract Manager is Employee {8    function getSalary() public  pure override returns(int){9        return 2;10    }11}solidity | ***= (相乘赋值)** 将右操作数与左操作数相乘，并将结果赋给左操作数。 **例:** C *= A 等价于 C = C * A |
| 5                                                            | **/= (相除赋值)** 将左操作数与右操作数分开，并将结果分配给左操作数。 **例:** C /= A 等价于 C = C / A |
| 6                                                            | **%= (取模赋值)** 使用两个操作数取模，并将结果赋给左边的操作数。 **例:** C %= A 等价于 C = C % A |

> **注意** – 同样的逻辑也适用于位运算符，因此它们将变成`<<=`、`>>=`、`>>=`、`&=`、`|=`和`^=`。



## 条件运算符

Solidity 支持条件运算符。

| 序号 | 运算符与描述                                           |
| :--- | :----------------------------------------------------- |
| 1    | **? : (条件运算符 )** 如果条件为真 ? 则取值X : 否则值Y |



## 编写MyOperator合约文件

View(视图)函数不会修改状态。如果函数中存在以下语句，则被视为修改状态，编译器将抛出警告。

- 修改状态变量。
- 触发事件。
- 创建合约。
- 使用`selfdestruct`。
- 发送以太。
- 调用任何不是视图函数或纯函数的函数
- 使用底层调用
- 使用包含某些操作码的内联程序集。

Getter方法是默认的视图函数。声明视图函数，可以在函数声明里，添加`view`关键字。



所以a++ 或者a--不能卸载声明view的funciton中，因为他们改变了a的值

```solidity
// SPDX-License-Identifier: GPL-3.0

pragma solidity 0.8.0;

contract MyOperators {
    uint8 a = 1;
    uint8 b = 2;
    uint8 c = 3;
    uint8 newValue;
    bool myBool = false;

    ///@notice Arithmetic(+. -, *, /, %, ++, --)
    function example_1() public {
        a + b + c;
    }

    ///@notice Assigment(=. +=. -=, *=, /=, %=)
    function example_2() public {
        newValue = a * b + c;
        a = a * b + c;
        
        a = a * c;
		//上下用途一样
		a *= c;
    }


    ///@notice Comparison(==, !=, <, <=, >, >=)
    function example_3() public {
		bool result = false;
		if(a < b) {
			result = true;
		}
		if(a <= b) {
			result = true;
		}
		
		if(a == b) {
			result = true;
		}
		
		if (a != b) {
			result = true;
		}
    }

    ///@notice Logical(!, &&, ||)
    function example_4() public {
		bool result = false;
		if(a < b && b > c) {
			result = true;
		}
		if(a < b || b > c) {
			result = true;
		}
		
		if(a < b && b > c && a > 20) {
			result = true;
		}
		
		if(result == myBool) {
			result = true;
		}
		
		if(!myBool) {
			result = true;
		}
		result = !result;
    }

    ///@notice Conditional(? A:B)
    function example_5() public {
		uint8 result = a < b ? 100 : 50;
    }    
}
```